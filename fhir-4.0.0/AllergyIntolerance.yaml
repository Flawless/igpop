attrs:
  patient: {req: true, type: Reference, desc: Who the sensitivity is for}
  onset:
    union: [Age, Period, string, dateTime, Range]
    desc: When allergy or intolerance was identified
    attrs:
      Age: {type: Age}
      Period: {type: Period}
      Range: {type: Range}
      dateTime: {type: dateTime}
      string: {type: string}
  category: {coll: true, type: code, desc: food | medication | environment | biologic}
  criticality: {type: code, desc: low | high | unable-to-assess}
  clinicalStatus: {type: CodeableConcept, desc: active | inactive | resolved}
  meta: {type: Meta, desc: Metadata about the resource}
  encounter: {type: Reference, desc: Encounter when the allergy or intolerance was asserted}
  implicitRules: {type: uri, desc: A set of rules under which this content was created}
  type: {type: code, desc: allergy | intolerance - Underlying mechanism (if known)}
  asserter: {type: Reference, desc: Source of the information about the allergy}
  note: {coll: true, type: Annotation, desc: Additional text not captured in other fields}
  contained: {coll: true, type: Resource, desc: 'Contained, inline Resources'}
  recordedDate: {type: dateTime, desc: Date first version of the resource instance was recorded}
  language: {type: code, desc: Language of the resource content}
  id: {type: id, desc: Logical id of this artifact}
  recorder: {type: Reference, desc: Who recorded the sensitivity}
  code: {type: CodeableConcept, desc: Code that identifies the allergy or intolerance}
  identifier: {coll: true, type: Identifier, desc: External ids for this item}
  lastOccurrence: {type: dateTime, desc: Date(/time) of last known occurrence of a reaction}
  verificationStatus: {type: CodeableConcept, desc: unconfirmed | confirmed | refuted | entered-in-error}
  reaction:
    coll: true
    desc: Adverse Reaction Events linked to exposure to substance
    attrs:
      description: {type: string, desc: Description of the event as a whole}
      exposureRoute: {type: CodeableConcept, desc: How the subject was exposed to the substance}
      id: {type: string, desc: Unique id for inter-element referencing}
      manifestation: {coll: true, req: true, type: CodeableConcept, desc: Clinical symptoms/signs associated with the Event}
      note: {coll: true, type: Annotation, desc: Text about event not captured in other fields}
      onset: {type: dateTime, desc: Date(/time) when manifestations showed}
      severity: {type: code, desc: mild | moderate | severe (of event as a whole)}
      substance: {type: CodeableConcept, desc: Specific substance or pharmaceutical product considered to be responsible for event}
  text: {type: Narrative, desc: 'Text summary of the resource, for human interpretation'}
