desc: |
  This profile sets minimum expectations for the Patient resource to record,
  search and fetch basic demographics and other administrative information about an individual patient.
  It identifies which core elements, extensions, vocabularies and value sets SHALL be present
  in the resource when using this profile.

attrs:
  +race:
    desc: US Core Race Extension
    attrs:
      text*:
        desc: Race Text
        type: string
      ombCategory*:
        desc: American Indian or Alaska Native|Asian|Black or African American|Native Hawaiian or Other Pacific Islander|White
        type: Coding
        vsr: omb-race-category
      detailed:
        desc: Extended race codes
        type: Coding
        vsr: detailed-race
  
  +birthsex:
    type: code
    vsr: birthsex

  identifier*:
    attrs:
      system*: {}
      value*: { desc: The value that is unique within the system }

  name*:
    desc: A name associated with the patient
    rules: { oneof: [given family] }
    attrs:
      family: {}
      given: {}

  telecom:
    attrs:
      value*: {}
      system*: { vsr: 'fhir:contact-point-system' }
  gender: { vsr: 'fhir:administrative-gender' }
  birthDate: {}
  address: {}
    attrs:
      line: {}
      city: {}
      postalCode: { desc: US Zip Codes }
      state: { vsr: us-core-usps-state }
  postalCode:
    desc: US Zip Codes
  communication:
    attrs:
      language*: { vsr: simple-language }

api:
  search:
    req: true
    params:
      _id: {req: true}
      identifier: {req: true}
      name: {req: true}
      family: {}
      birthDate: {req: true}
      gender: {req: true}
    combo:
      - params: [name, birthDate]
        req: true
      - params: [gender, birthDate]
        req: true
      - params: [birthDate, family]
      - params: [family, gender]
  read:
    req: true
